<html>
  <head>
    <meta charset="UTF-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css">
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <style type="text/css">
    .reveal blockquote {
      width: 90%;
      border-left: 5px solid #aaa;
      font-size: 90%;
    }
    .nobullets li {
      list-style-type: none;
    }
    .clearfix {
      overflow: auto;
      zoom: 1;
    }
    .speaker-pic {
      border-radius: 50%;
      float: left;
    }
    table.msg {
      border: black 1px solid;
    }
    table.msg td {
      border-right: black 1px solid;
    }

    #demomidi {
      font-size: 38px;
    }

    .reveal section img.sshot {
      border: 0;
      box-shadow: none;
    }

    .reveal figcaption {
      font-size: 50%;
    }
    </style>
  </head>
  <body>
    <div class="reveal jsfp">
      <div class="slides">

        <!-- Hello -->
        <section>
            <h1>JavaScript fonctionnel</h1>
            <h2>Paris Web'16</h2>
        </section>

        <!-- Hello -->
        <section>
            <h1>say('Hello world')</h1>
            <aside class="notes">
              Bonjour !
              <br>
              Bienvenue, et merci de venir assister à cette présentation de la programmation fonctionnelle en Javascript.
            </aside>
        </section>

        <!-- Authors -->
        <section>
          <div class="clearfix">
            <img class="speaker-pic" src="css/alain.jpg">
            <h2>Alain Vagner - @biou</h2>
            <span>fan de procrastination fonctionnelle</span>
          </div>
          <br><br>
          <div class="clearfix">
            <img class="speaker-pic" src="css/vincent.jpg">
            <h2>Vincent Lark - @allyouneedisgnu</h2>
            <span>In Pastafari we trust</span>
          </div>
          <aside class="notes">
            Tout d'abord, une rapide présentation.
            <br>
            Nous sommes Alain et Vincent, nous travaillons chacun sur des projets Web dans la région Nord Est depuis une dizaine d'années.
          </aside>
        </section>

        <!-- Introduction -->
        <section>
          <h1>Introduction</h1>
          <ul>
            <li>Découverte de la prog. fonctionnelle</li>
            <li>Concepts basiques et exemples concrets<br><br></li>
            <li>Posez vos questions pendant l'atelier !</li>
          </ul>
          <aside class="notes">
            Nous vous proposons donc vous faire découvrir la prog. fonctionnelle en JS,
            <br>
            en tout cas ses concepts les plus simples, par des ex. concrets et amusants
            <br>
            N'hésitez surtout pas à poser vos questions ! si qlq chose n'est pas clair, on y répond direct.
          </aside>
        </section>

        <!-- Parti pris -->
        <section>
          <h1>Warning</h1>
          <ul>
            <li>Malgré les syntaxes évoluées des specs modernes...</li>
            <li>On utilisera ici ES5 / JS 1.8</li>
            <li>Vérifiez la compatibilité sur <a href="http://developer.mozilla.org">MDN</a> ou <a href="http://caniuse.com">caniuse.com</a> !</li>
          </ul>
          <aside class="notes">
            SONDAGE !<br>
            qui utilise le JS de près ou de loin ?<br>
            qui utilise le JS surtout via jQuery ?<br>
            qui utilise le JS de façon intensive, avec du Node ?<br>
            Un petit warning avant de commencer cette prez.. malgré les nouvelles syntaxes et autre joyeusetés qu'apporte ES6 et suivants, nous on utilisera aujourd'hui le simple EcmaScript 5<br>
            Le but est surtout de ne pas ajouter de barrière à la compréhension, que tout le monde puisse tester, etc..
          </aside>
        </section>

        <!-- Définition -->
        <section>
          <h1>Définition</h1>
          <blockquote>
            Une méthode de programmation qui préfère l'utilisation de fonctions aux changements d'état.
          </blockquote>
        <aside class="notes">
            - plein d'autres définitions, on a essayé de faire simple ici<br>
            - concept de base: fonction, <br>
            - on va tout faire à base de fonction, composer des fonctions entre elles, etc.<br>
            - style de programmation et paradigme, d'autres paradigmes existent: impératif, orienté objet, ...<br>
            - changement d'état: état de votre app javascript = contenu de vos variables à un instant t. Plus les états et les changements entre états sont complexes, plus on risque des bugs via effets de bord.<br>
          </aside>
        </section>

        <section>
          <h1>À quoi ça sert?</h1>
          <ul>
            <li>Moins d'effets de bords</li>
            <li>Plus maintenable</li>
            <li>Plus modulaire</li>
            <li>Plus robuste</li>
          </ul>
          <aside class="notes">
            Pourquoi des gens se sont tournés vers la prog. fonctionelle ?
            <br>
            Nous irons plus en profondeur par la suite, mais on peut déjà dire que les buts sont d'abord<br>
            - de réduire les effets de bords, un effet de bord étant un changement d'état non voulu, non maîtrisé<br>
            - de rendre le code plus maintenable<br>
            - plus modulaire<br>
            - plus robuste<br>
          </aside>
        </section>

        <!-- Comparaison -->
        <section data-external="slides/comparaison.html"></section>

        <!-- Exercice 1 -->
        <section>
          <section>
            <h1>Getting started</h1>
            <aside class="notes">
              Avant d'aller plus loin, je vous propose d'ouvrir le support d'atelier que l'on vous a fourni.<br>
              Si vous ne l'avez pas, demandez-le nous, on vous le donnera sur clé USB, c'est rapide à mettre en place.<br>
            </aside>
          </section>
          <section data-external="slides/exercices/_start.html"></section>
          <section data-external="slides/exercices/ex1.html"></section>
          <section data-state="midi" data-external="slides/midi.html"></section>
          <section data-external="slides/midi2.html"></section>
        </section>

        <!-- Fil rouge -->
        <section>
          <section>
            <h1>Functions as first class citizen</h1>
            <h4>Fonction d'ordre supérieur</h4>
            <br>
            <blockquote>
              Dans un langage traitant les fonctions comme des<br>
              "citoyens de 1ère classe",<br>
              les fonctions peuvent être passées en paramètre<br>
              et/ou en retour d'autres fonctions.
            </blockquote>
          </section>
          <section data-external="slides/function_as_argument.html"></section>
          <section data-external="slides/function_as_return.html"></section>
        </section>

        <!-- Collections -->
        <section>
          <section>
            <h1>Collections</h1>
            <aside class="notes">
              Utilisation la plus courante du style fonctionel: les listes ou collections<br>
              Souvent besoin du concept d'itération, sous différentes formes<br>
              Quelques exemples les plus utiles
            </aside>
          </section>
          <section data-external="slides/filter.html"></section>
          <section data-external="slides/find.html"></section>
          <section data-external="slides/map.html"></section>
          <section data-external="slides/map2.html"></section>
          <section data-external="slides/reduce.html"></section>
          <section data-external="slides/reduce2.html"></section>
          <section data-external="slides/flatmap.html"></section>
          <section data-external="slides/flatmap2.html"></section>
          <section data-external="slides/exercices/collections.html"></section>
        </section>

        <!-- Effets de bord -->
        <section>
          <section>
            <h1>Fonctions pures<br><small>&amp;</small><br>Effets de bord</h1>
          </section>
          <section data-external="slides/poocnul.html"></section>
          <section data-external="slides/poocnul2.html"></section>
          <section>
            <h1>Fonctions pures</h1>
            <blockquote>
              Une fonction pure est une fonction déterministe sans changements d'état.
            </blockquote>
            <blockquote>
              Elle n'utilise que ses paramètres et ses variables locales.
            </blockquote>
          </section>

          <section data-external="slides/ex_fonctionimpure.html"></section>
          <section data-external="slides/ex_fonctionimpure2.html"></section>
          <section data-external="slides/ex_fonctionpure.html"></section>

          <section>
            <h1>Pour quoi faire ?</h1>
            <blockquote>
              En gardant des fonctions pures, on évite les mutations, et donc les effets de bords.
            </blockquote>
            <section data-external="slides/ex_mutations.html"></section>
          </section>

          <section>
            <h1>La POO et la prog. fonctionnelle sont incompatibles ?</h1>
          </section>
          <section data-external="slides/mixpoofonctionelle.html"></section>
        </section>

        <!-- Composition -->
        <section>
          <section>
            <h1>Composition</h1>
          </section>
          <section data-external="slides/composition.html"></section>
          <section data-external="slides/composition2.html"></section>
          <section data-external="slides/composition3.html"></section>
        </section>

        <!-- concepts avancés -->
        <section>
          <section>
            <h1>Concepts avancés</h1>
            <aside class="notes">
                concepts avancés ou design patterns, on les retrouve dans la plupart des langages fonctionnels<br>
            </aside>
          </section>
          <section data-external="slides/struct-algebriques.html"></section>
          <section data-external="slides/monad.html"></section>
          <section data-external="slides/maybe.html"></section>
          <section data-external="slides/either.html"></section>
        </section>
        <!-- Les amis - ->
        <section>
          <section>
            <h1>Les amis</h1>
          </section>
          <section data-external="slides/asynchonism.html"></section>
          <section data-external="slides/promises.html"></section>
        </section>
        <!-- -->

        <!-- Ecosystème -->
        <section>
          <section>
            <h1>Ecosystème</h1>
          </section>
          <section>
              <h1>Les "amis"</h1>
          </section>
          <section data-external="slides/react.html"></section>
          <section data-external="slides/async.html"></section>
          <section data-external="slides/promises.html"></section>
          <section data-external="slides/streams.html"></section>
          <section>
            <h1>Les libs</h1>
          </section>  
          <section data-external="slides/lodash.html"></section>
          <section data-external="slides/immutable.html"></section>
          <section data-external="slides/fpjslibs.html"></section>
          <section>
            <h1>Le futur</h1>
          </section>
          <section data-external="slides/es6-7.html"></section>
        </section>

        <!-- Bye -->
        <section>
          <h1>Questions<h1>
        </section>
        <section data-external="slides/biblio.html"></section>
      </div>
    </div>

    <script src="lib/js/html5shiv.js"></script>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script>
      Reveal.initialize({
        history: true,
        slideNumber: true,
        showNotes: true,
        dependencies: [
          // Syntax highlight for <code> elements
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },

          // Speaker notes
          { src: 'plugin/notes/notes.js', async: true },

          // External slides
          { src: 'plugin/external/external.js', condition: function() { return !!document.querySelector( '[data-external]' ); } },
        ]
      });
    </script>
    <script type="text/javascript">
      document.addEventListener('ready', function () {
        // Patch exo links
        [].forEach.call(document.getElementsByClassName('exo_url'), function (el) {
          el.innerHTML = 'http://localhost:8082';
        });

      var start = 0;
      var stop = 0;
      Reveal.addEventListener("midi", function() {
          console.log('pouet');
          document.getElementById("demomidi").addEventListener("mousedown", function() {
              console.log('mousedown');
              document.getElementById("midimsg").innerHTML = '<table id="midimsg" class="msg"><tr><td>channel</td><td>subtype</td><td>deltaTime</td><td>noteNumber</td></tr><tr><td>0</td><td>noteOn</td><td>0</td><td>72</td></tr></table>';
              start = new Date().getTime();
          });
          document.getElementById("demomidi").addEventListener("mouseup", function() {
              console.log("mouseup");
              stop = new Date().getTime();
              document.getElementById("midimsg").innerHTML = '<table id="midimsg" class="msg"><tr><td>channel</td><td>subtype</td><td>deltaTime</td><td>noteNumber</td></tr><tr><td>0</td><td>noteOn</td><td>0</td><td>72</td></tr><tr><td>0</td><td>noteOff</td><td>'+(stop-start)+'</td><td>72</td></tr></table>';
          });
      });


      });
    </script>
  </body>
</html>
